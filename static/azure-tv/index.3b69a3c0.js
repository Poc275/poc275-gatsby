var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire65d0;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequire65d0=o);var r=o("8zQx8"),i=o("2wqqk"),a=o("hOCft");const s=new r.PublicClientApplication({auth:{clientId:"53bfecae-5150-4a44-8b5b-957ac4839fa4",authority:"https://login.microsoftonline.com/4583a017-e1c7-4872-bb63-71c8f247fb02"}});s.handleRedirectPromise().then((async e=>{if(e){const t={getToken:()=>({token:e.accessToken,expiresOnTimestamp:new Date(e.expiresOn).getTime()})},n=new i.BlobServiceClient("https://azuretv.blob.core.windows.net/",t).getContainerClient("media"),o=new a.TableClient("https://azuretv.table.core.windows.net","azuretv",t);for await(const e of n.listBlobsByHierarchy("/",{prefix:"TV/"}))if("prefix"===e.kind){const t=e.name.split("/")[1],n=await o.getEntity("shows",t),r=document.createElement("img");r.src=`https://image.tmdb.org/t/p/w92/${n.poster_path}`,r.alt=`${n.name} poster`;const i=document.createElement("p");i.className="poster-title",i.textContent=n.name;const a=document.createElement("a");a.href=`show.html?id=${n.rowKey}`,a.appendChild(r),a.appendChild(i);const s=document.createElement("div");s.className="poster",s.appendChild(a);document.getElementById("library").appendChild(s)}}else try{const e={scopes:["https://storage.azure.com/user_impersonation"]};s.loginRedirect(e)}catch(e){console.error(e)}})).catch((e=>{console.error(e)}));
//# sourceMappingURL=index.3b69a3c0.js.map
